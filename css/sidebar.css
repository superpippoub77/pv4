/* Sidebar base */
.sidebar {
    width: 280px;
    flex-shrink: 0;
    background: #2c3e50;
    color: white;
    overflow-y: auto;
    border-right: 3px solid #34495e;
    position: relative; /* mantiene l'handle dentro il flusso */
    transition: transform 0.3s ease, width 0.1s ease;
}

.sidebar.hidden {
    display: none;
}

/* Pulsante toggle */
.sidebar-switch {
    position: absolute;
    top: 50%;
    right: -15px; /* sempre fuori dalla sidebar */
    width: 20px;
    height: 50px;
    cursor: pointer;
    background: #34495e;
    border: 2px solid #2c3e50;
    transform: translateY(-50%);
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0.8;
    transition: background 0.2s ease, opacity 0.2s ease;
}

.sidebar-switch:hover {
    opacity: 1;
    background: #2ecc71; /* evidenziato al passaggio del mouse */
}

/* Handle per il resize */
.sidebar-handle {
    width: 10px; /* pi√π largo per essere visibile */
    cursor: ew-resize;
    background: #4a6a8a;
    position: relative;
    z-index: 100;
    transition: background 0.2s ease;
}

.sidebar-handle:hover {
    background: #2ecc71; /* verde acceso al passaggio del mouse */
}

/* Right sidebar separata */
.right-sidebar {
    width: 280px;
    flex-shrink: 0;
    background: #2c3e50;
    color: white;
    overflow-y: auto;
    border-left: 3px solid #34495e;
    position: relative;
    transition: transform 0.3s ease, width 0.1s ease;
}

.right-sidebar.hidden {
    display: none;
}

/* Pulsante toggle right sidebar */
.right-sidebar-switch {
    position: absolute;
    top: 50%;
    left: -15px; /* sempre fuori dalla sidebar */
    width: 20px;
    height: 50px;
    cursor: pointer;
    background: #34495e;
    border: 2px solid #2c3e50;
    transform: translateY(-50%);
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0.8;
    transition: background 0.2s ease, opacity 0.2s ease;
}

.right-sidebar-switch:hover {
    opacity: 1;
    background: #2ecc71;
}

/* Handle per right sidebar */
.right-sidebar-handle {
    width: 10px;
    cursor: ew-resize;
    background: #4a6a8a;
    position: relative;
    z-index: 100;
}

.right-sidebar-handle:hover {
    background: #2ecc71;
}

/* Scrollbar */
.sidebar::-webkit-scrollbar,
.right-sidebar::-webkit-scrollbar {
    width: 8px;
    background-color: transparent;
}

.sidebar::-webkit-scrollbar-thumb,
.right-sidebar::-webkit-scrollbar-thumb {
    background-color: #4a6a8a;
    border-radius: 10px;
    border: 2px solid #2c3e50;
}

/* Durante il resize disabilita pointer-events sugli altri elementi */
body.resizing-sidebar * {
    pointer-events: none !important;
}

body.resizing-sidebar .sidebar-handle,
body.resizing-sidebar .right-sidebar-handle,
body.resizing-sidebar .sidebar-switch,
body.resizing-sidebar .right-sidebar-switch {
    pointer-events: auto !important;
}
